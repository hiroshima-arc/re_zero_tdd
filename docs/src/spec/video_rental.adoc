:toc: left
:toclevels: 5
:sectnums:
= Video Rental

== 仕様
顧客が借りたビデオのレンタル料金を計算して計算書を印刷する。

* ビデオレンタルの料金を計算して計算書を印刷するプログラム
* システムにはどの映画を何日間借りるかが入力される。
* 貸出の日数によって料金が計算され、映画の分類が判定される。
* 映画の分類は３つある。一般向け、子供向け、新作。
* レンタルポイントも印刷される。新作かどうかによってポイント計算の仕方が異なる。

== 設計

=== TODOリスト

* [x] スモークテスト作成
* [x] statementメソッドの分割、再配置
* [x] amountForメソッドの移動

=== ユースケース図
[plantuml]
----
left to right direction
skinparam packageStyle rectangle
actor customer
rectangle VedioRental {
  customer -- (Rental)
              (Calculate rental fee)
              (Print a statement)
}
----

=== クラス図
[plantuml]
----
class Movie {
  priceCode:int
}
class Rental {
  daysRented:int
  getCharge()
}
class Customer {
  statement()
}
Movie "1"<-"*" Rental
Rental "*"<-"1" Customer
----

=== シーケンス図
[plantuml]
----
-> aCustomer: statement
   activate aCustomer
       aCustomer -> aCustomer :*[for all rental]
       activate aCustomer
           aCustomer -> aRental :getMovie
           aCustomer -> aMovie :getPriceCode
           aCustomer -> aRental :getDaysRented
       deactivate aCustomer
   deactivate aCustomer
----

== 開発

=== Movie.java
----
include::../../../dev/20190702/k2works/api/rental/src/main/java/rental/domain/Movie.java[]
----

=== Rental.java
----
include::../../../dev/20190702/k2works/api/rental/src/main/java/rental/domain/Rental.java[]
----

=== Customer.java
----
include::../../../dev/20190702/k2works/api/rental/src/main/java/rental/domain/Customer.java[]
----

=== StatementOutput.java
----
include::../../../dev/20190702/k2works/api/rental/src/test/java/rental/StatementOutput.java[]
----

== 参照
* http://plantuml.com[PlantUML]